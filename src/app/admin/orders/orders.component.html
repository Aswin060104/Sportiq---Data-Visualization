<div class="container">
    <app-admin-nav></app-admin-nav>
    <div class="right-container">
        <!-- <div class="top-orders-container">
            <h2>Top Orders</h2>
            <div class="top-orders-cards-container">
                <div class="top-order-card">
                    <div>
                        <h3>{{topProduct1[0]}}</h3>
                        <h1>Sales : {{topProduct1[1] | currency}}</h1>
                    </div>
                    <canvas id="topProduct1"></canvas>
                </div>

                <div class="top-order-card">
                    <div>
                        <h3>{{topProduct2[0]}}</h3>
                        <h1>Sales : {{topProduct2[1] | currency}}</h1>
                    </div>
                    <canvas id="topProduct2"></canvas>
                </div>
            </div>
        </div> -->
        <div class="table-container">
            <div class="table-head">
                <div class="table-head-title">
                    <h2>Orders</h2>
                    <div class="table-head-searchbar">
                        <input type="text" placeholder="Search" name="searchValue" [(ngModel)]="searchBarValue">
                    </div>
                </div>
                <div class="table-head-options">
                    <!-- <a (click)="customView('all')">All Orders</a>
                    <a (click)="customView('Pending')">Pending</a>
                    <a (click)="customView('Delivered')">Delivered</a> -->
                </div>
            </div>
            <table>
                <thead>

                        <th>Order Id</th>
                        <th>Email</th>
                        <th>Order Date</th>
                        <th>Amount</th>
                        <th>Location</th>
                        <th>Status</th>
                </thead>
                <tbody>
                    <ng-container *ngIf="checkSearchValueFound(); else notFound">
                        <ng-container *ngFor="let order of orderDataValue; let i = index;">
                            <tr *ngIf="order.email.toLowerCase().includes(searchBarValue.toLowerCase())">
                                <!-- <td class="truncate-text" title="{{ order.orderId }}">{{order.orderId}}</td> -->
                                <td>{{order.email}}</td>
                                <td>{{order.orderDate | date}}</td>
                                <td>{{order.totalPrice| currency : 'INR'}}</td>
                                <td>{{order.city}}, {{order.state}}</td>
                                <td><button (click)="updateOrderStatus(order)" [ngClass]="order.orderStatus == 'pending' ? 'pending' : 'delivered'">{{order.orderStatus.toUpperCase()}}</button></td>
                                <td  (click)="getParticularOrderDetail(order.totalPrice)"><button id="view-details-btn">View Details </button> </td>    
                            </tr>
                        </ng-container>
                    </ng-container>
                    <ng-template #notFound>
                        <tr>
                            <td colspan="6">No Orders Found</td>
                          </tr> 
                    </ng-template>
                </tbody>
            </table>
        </div>
        <table *ngIf="showOrderDetails">
            <thead>
                <th>Product Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Amount</th>
            </thead>
           <tbody>
            <tr *ngFor="let product of orderDetails">
               <td>{{product.productName}}</td> 
               <td>{{product.discountedSellingPrice / product.quantity}}</td> 
               <td>{{product.quantity}}</td> 
               <td>{{product.discountedSellingPrice}}</td> 
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>Total Price</td>
                <td>{{particularOrderTotalPrice | currency : 'INR'}}</td>
            </tr>
           </tbody>
        </table>
        
 <!-- <div [ngClass]="{'overlay' : showOrderDetails}" (click)="toggleOrderDetailView()"></div> -->
    </div>
    <!-- <div class="order-details" [ngClass]="[showOrderDetails ? 'show-order' : !stopInitialAnimation ? 'hide-order' : 'not-in-view']">
        <div class="order-details-heading">
            <h1>Orders Details</h1>
            <img src="assets\close.png" alt="" (click)="toggleOrderDetailView()">
        </div>
        <div class="order-details-head">
            <h4>Name : {{particularOrder.name }}</h4>
            <h4>Email : {{particularOrder.email }}</h4>
            <h4>Ordered Date : {{particularOrder.orderDate | date : 'short'}}</h4>
        </div> -->
        
    <!-- </div>  -->
<!-- </div> -->
