<div class="main-container">
    <app-admin-nav></app-admin-nav>
    <div class="customer-container">
        <div class="table-container">
            <div class="table-head">
                <div class="table-head-title">
                    <h2>All Customers</h2>
                    <div class="table-head-searchbar">
                        <input type="text" placeholder="Search by Email" name="searchValue" [(ngModel)]="searchBarValue">
                    </div>
                </div>
            </div>
            <table>
                <thead>
    
                        <th>Customer Name</th>
                        <th>Email</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Phone number</th>
                </thead>
                <tbody>
                    <ng-container *ngIf="checkSearchValueFound(); else notFound">
                        <ng-container *ngFor="let customer of customerDetails; let i = index;">
                                <tr *ngIf="customer.email.toLowerCase().includes(searchBarValue.toLowerCase())">
                                <td>{{customer.customerName}}</td>
                                <td>{{customer.email}}</td>
                                <td>{{customer?.city}}</td>
                                <td>{{customer?.state}}</td>
                                <td>{{customer?.phoneNumber}}</td>
                            </tr>
                        </ng-container>
                    </ng-container>
                    <ng-template #notFound>
                        <tr>
                            <td colspan="6">No Customers Found</td>
                          </tr> 
                    </ng-template>
                </tbody>
            </table>
    </div>

</div>